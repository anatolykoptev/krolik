# Krolik Environment Configuration
# Copy to ~/.krolik/.env and fill in your values

# ============================================================================
# LLM Provider API Keys (at least one required)
# ============================================================================

# Anthropic Claude API
# Get from: https://console.anthropic.com/settings/keys
KROLIK_PROVIDERS__ANTHROPIC__API_KEY=your_anthropic_api_key_here

# OpenAI API
# Get from: https://platform.openai.com/api-keys
KROLIK_PROVIDERS__OPENAI__API_KEY=your_openai_api_key_here

# OpenRouter (recommended - access to many models)
# Get from: https://openrouter.ai/keys
KROLIK_PROVIDERS__OPENROUTER__API_KEY=your_openrouter_api_key_here
KROLIK_PROVIDERS__OPENROUTER__API_BASE=https://openrouter.ai/api/v1

# DeepSeek
# Get from: https://platform.deepseek.com/api_keys
KROLIK_PROVIDERS__DEEPSEEK__API_KEY=your_deepseek_api_key_here

# Google Gemini
# Get from: https://makersuite.google.com/app/apikey
KROLIK_PROVIDERS__GEMINI__API_KEY=your_gemini_api_key_here

# Groq (fast inference)
# Get from: https://console.groq.com/keys
KROLIK_PROVIDERS__GROQ__API_KEY=your_groq_api_key_here

# Zhipu AI (Chinese market)
# Get from: https://open.bigmodel.cn/usercenter/apikeys
KROLIK_PROVIDERS__ZHIPU__API_KEY=your_zhipu_api_key_here
KROLIK_PROVIDERS__ZHIPU__API_BASE=https://open.bigmodel.cn/api/paas/v4

# vLLM / Local LLM
KROLIK_PROVIDERS__VLLM__API_KEY=your_vllm_api_key_here
KROLIK_PROVIDERS__VLLM__API_BASE=http://localhost:8000/v1

# ============================================================================
# Agent Configuration
# ============================================================================

# Default model to use (provider/model format)
# Examples: anthropic/claude-opus-4-5, openai/gpt-4, openrouter/anthropic/claude-3-opus
KROLIK_AGENTS__DEFAULTS__MODEL=google/gemini-3-flash-preview

# Workspace directory
KROLIK_AGENTS__DEFAULTS__WORKSPACE=~/.krolik/workspace

# CLI Proxy API (free tier via local Gemini OAuth sessions)
# CLI_PROXY_API_KEY=your_cliproxy_key
# CLI_PROXY_API_URL=http://127.0.0.1:8317

# Max tokens per request
KROLIK_AGENTS__DEFAULTS__MAX_TOKENS=8192

# Temperature (0.0 - 1.0)
KROLIK_AGENTS__DEFAULTS__TEMPERATURE=0.7

# Max tool iterations per request
KROLIK_AGENTS__DEFAULTS__MAX_TOOL_ITERATIONS=20

# ============================================================================
# Chat Channels
# ============================================================================

# Telegram Bot
# Get token from @BotFather: https://t.me/BotFather
KROLIK_CHANNELS__TELEGRAM__ENABLED=false
KROLIK_CHANNELS__TELEGRAM__TOKEN=your_telegram_bot_token_here
KROLIK_CHANNELS__TELEGRAM__ALLOW_FROM=[]
KROLIK_CHANNELS__TELEGRAM__PROXY=

# WhatsApp
KROLIK_CHANNELS__WHATSAPP__ENABLED=false
KROLIK_CHANNELS__WHATSAPP__BRIDGE_URL=ws://localhost:3001
KROLIK_CHANNELS__WHATSAPP__ALLOW_FROM=[]

# Feishu/Lark
KROLIK_CHANNELS__FEISHU__ENABLED=false
KROLIK_CHANNELS__FEISHU__APP_ID=your_feishu_app_id
KROLIK_CHANNELS__FEISHU__APP_SECRET=your_feishu_app_secret
KROLIK_CHANNELS__FEISHU__ENCRYPT_KEY=
KROLIK_CHANNELS__FEISHU__VERIFICATION_TOKEN=
KROLIK_CHANNELS__FEISHU__ALLOW_FROM=[]

# ============================================================================
# Memory (memU) Configuration
# ============================================================================

# PostgreSQL DSN for persistent memory (pgvector)
# Uses the same Postgres cluster as OpenClaw memos
# Format: postgresql://user:password@host:port/database
KROLIK_MEMORY__PG_DSN=postgresql://memos:K2DscvW8JoBmSpEV4WIM856E6XtVl0s@172.18.0.3:5432/krolik_memory

# memU HTTP fallback URL (used only if embedded service fails)
KROLIK_MEMORY__MEMU_URL=http://localhost:8000

# API key for memU HTTP (if required)
KROLIK_MEMORY__API_KEY=

# Enable/disable memory features
KROLIK_MEMORY__ENABLED=true

# Auto-memorize conversations
KROLIK_MEMORY__AUTO_MEMORIZE=true

# Intent-aware retrieval
KROLIK_MEMORY__INTENT_AWARE=true

# Proactive suggestions
KROLIK_MEMORY__PROACTIVE_SUGGESTIONS=true

# ============================================================================
# MCP (Model Context Protocol) Configuration
# ============================================================================

# Enable MCP integration
KROLIK_MCP__ENABLED=true

# MCP Servers (comma-separated list of name=url pairs)
# Format: server1=http://localhost:3001,server2=http://localhost:3002
KROLIK_MCP__SERVERS__MEMOS__URL=http://localhost:8001/sse
KROLIK_MCP__SERVERS__GDRIVE__URL=http://localhost:3002/sse
KROLIK_MCP__SERVERS__NOTION__URL=http://localhost:3003/sse

# Auto-connect to MCP servers on startup
KROLIK_MCP__AUTO_CONNECT=memos,gdrive

# Default timeout for MCP calls
KROLIK_MCP__DEFAULT_TIMEOUT=30.0

# ============================================================================
# Gateway Configuration
# ============================================================================

# Gateway host and port
KROLIK_GATEWAY__HOST=0.0.0.0
KROLIK_GATEWAY__PORT=18790

# ============================================================================
# Tools Configuration
# ============================================================================

# Web Search (Brave Search API)
# Get from: https://api.search.brave.com/app/keys
KROLIK_TOOLS__WEB__SEARCH__API_KEY=your_brave_search_api_key_here
KROLIK_TOOLS__WEB__SEARCH__MAX_RESULTS=5

# Shell Exec Tool
KROLIK_TOOLS__EXEC__TIMEOUT=60
KROLIK_TOOLS__EXEC__RESTRICT_TO_WORKSPACE=false

# ============================================================================
# Advanced Options
# ============================================================================

# Log level: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

# Debug mode (true/false)
DEBUG=false

# ============================================================================
# Quick Start Guide
# ============================================================================

# 1. Get at least one LLM API key from providers above
# 2. Copy this file to .env: cp .env.example .env
# 3. Edit .env and add your API keys
# 4. Start krolik: krolik gateway

# Optional: Enable channels
# - Telegram: Set KROLIK_CHANNELS__TELEGRAM__ENABLED=true and add token
# - WhatsApp: Set KROLIK_CHANNELS__WHATSAPP__ENABLED=true and run bridge

# Optional: Connect MCP servers
# - Start MCP servers (memos, gdrive, etc.)
# - Add their URLs to KROLIK_MCP__SERVERS__*
# - Set KROLIK_MCP__AUTO_CONNECT to auto-connect
